$anchor-height: 64px;
$stuck-height: 48px;

#site-navigation {
	transition: ease height 0.3s;
	z-index: 9999;
	min-height: $anchor-height;
}

.no-js {
	.top-bar {
		display: none;
	}
}
/* Top Bar Menu */
.main-navigation {
	padding: 0;
	width: 100%;
	box-shadow: $black 0 0 10px 0;

	ul {
		list-style: none;
		margin: 0;

		.menu-item {
			a {
				padding-top: 1.5rem;
				padding-bottom: 1.5rem;
				position: relative;
				transition: ease padding 0.3s;

				&:before {
					content: '';
					background-color: $color__link;
					height: 3px;
					transition: transform ease-out 0.5s;
					position: absolute;
					left: 0;
					right: 0;
					bottom: 0;
					@include prefix((transform: scaleX(0)), webkit moz o);
				}
			}

			&.is-active,
			&:hover {
				& > a {
					color: $color__link;

					&:before {
						width: 100%;
						@include prefix((transform: scaleX(1)), webkit moz o);
					}
				}
			}
		}
		/* Sub Menu */
		ul {
			border: none;
		}
	}

	.dropdown-toggle {
		display: none;
	}
	/* Sticky Menu */
	&.is-stuck {
		@include admin-sticky-fix;
		background-color: $color__background-body;

		ul {
			.menu-item {
				a {
					padding-top: 1rem;
					padding-bottom: 1rem;
				}
			}
		}
	}
	/* Responsive menu */
	@include breakpoint(medium down) {
		& {
			height: $anchor-height;
			transition: ease min-height 0.3s;
		}

		&.is-stuck {
			min-height: 48px;
		}

		.menu-toggle {
			position: relative;
			top: 0;
			margin-right: 15px;
			z-index: 999999;
			padding: 10px 35px 16px 0;
			cursor: pointer;
			border: none;
			outline: none;
			background: transparent;

			.menu-toggle-icon {
				text-transform: uppercase;
				font-size: 13px;
				transition: ease background 0.3s;

				&,
				&:after,
				&:before {
					content: '';
					position: absolute;
					display: block;
					width: 35px;
					height: 3px;
					-moz-border-radius: 1px;
					-webkit-border-radius: 1px;
					border-radius: 1px;
					background: #fff;
					cursor: pointer;
				}

				&:before {
					top: -10px;
					transition: ease transform 0.3s;
				}

				&:after {
					bottom: -10px;
					transition: ease transform 0.3s;
				}
			}

			&.menu-active {
				.menu-toggle-icon {
					background: transparent;

					&:before {
						top: 0;
						@include prefix((transform: translateX(0) translatey(0) rotate(45deg)), webkit moz ms o);
					}

					&:after {
						top: 10px;
						@include prefix((transform: translateX(0) translatey(-10px) rotate(-45deg)), webkit moz ms o);
					}
				}
			}
		}

		.dropdown-toggle {
			display: block;
		}

		#primary-menu {
			&.toggled-on {
				background-color: $color__background-body;
				position: fixed;
				top: $anchor-height;
				overflow-y: auto;
				height: 100%;
				min-height: 300px;
			}
		}

		ul {
			display: none;

			&.toggled-on {
				display: block;
				width: 100%;
				left: 0;
				right: 0;
				position: relative;
				margin-top: 2px;
			}

			.menu-item {
				width: 100%;
				position: relative;

				a {
					padding: 1em;
					box-sizing: content-box;

					&:before {
						display: none;
					}
				}

				&.menu-item-has-children {
					a {
						&:after {
							display: none !important; // Hide Submenu arrow
						}
					}
					/* Mobile Sub Menu */
					ul {
						padding-left: 0.5rem;
						position: relative;

						li:before {
							content: '';
							display: inline-block;
							border-left: solid 5px $color__link;
							position: absolute;
							left: 0;
							height: 100%;
							width: 5px;
						}
					}

					button {
						display: inline-block;
						background: transparent;
						padding: 1em;
						position: absolute;
						right: 0;
						top: 0;

						&:after {
							content: '\f078';
							font-family: 'FontAwesome';
							color: $color__link;
							display: block;
							transition: ease all 0.25s;
						}

						&.toggled-on:after {
							transform: rotate(180deg);
						}
					}
				}
			}
		}

		.top-bar-left,
		.top-bar-right {
			flex: 0 0 auto;
		}
	}
}
